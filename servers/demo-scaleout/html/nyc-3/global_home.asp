
try { // cache bg imgs in IE
	document.execCommand("BackgroundImageCache", false, true);
} catch(err) {}

var wsod = {};

wsod.currentRegion = 'Asia';

wsod.changeRegion = function(region){
	
	if(document.getElementById('tradeTime')){
		document.getElementById('tradeTime').innerHTML = document.getElementById('tradeTime_'+region).innerHTML;
	}
	
	document.getElementById(wsod.currentRegion+'Tab').className = '';
	document.getElementById(wsod.currentRegion).className = 'hiddenContent';
	
	document.getElementById(region+'Tab').className = 'selected';
	
	var el = document.getElementById(region);
	el.className = 'visibleContent';
	
	wsod.currentRegion = region;
}

wsod.changeChart = function(index, region, el) {
	var xDelta = index * -110;
	document.getElementById('cht_'+region).style.backgroundPosition = xDelta + 'px 0px';
	var region = el.getAttribute('region');
	document.getElementById('n_'+region).innerHTML = el.getAttribute('name');
	document.getElementById('l_'+region).innerHTML = el.getAttribute('label');
	this.highlight(el, region);
}

wsod.selectedRow = [];
wsod.highlight = function(el, region) {
	if (wsod.selectedRow[region] == el) {
		return;
	}
	
	if (wsod.selectedRow[region] && wsod.selectedRow[region] != el) {
		wsod.selectedRow[region].className = '';
	} else if (!wsod.selectedRow[region]) {
		var p = el.parentNode;
		var trs = p.getElementsByTagName('tr');
		trs[0].className = '';
	}
	
	el.className = 'active';
	wsod.selectedRow[region] = el;
}
	
wsod.unhighlight = function(el, region) {
	if (wsod.selectedRow[region] && wsod.selectedRow[region] != el) {
		wsod.selectedRow[region].className = '';
	}
}

wsod.html = [];
wsod.html.push('<div id="wsod-container">');
	wsod.html.push('<div id="wsodtabs-container" class="update"><ul class="wsodtabs"><li class="" id="USTab" onclick="wsod.changeRegion(\'US\')"><a href="javascript:void(0)">U.S.</a></li><li class="" id="AmericasTab" onclick="wsod.changeRegion(\'Americas\')"><a href="javascript:void(0)">Americas</a></li><li class="" id="EuropeTab" onclick="wsod.changeRegion(\'Europe\')"><a href="javascript:void(0)">Europe</a></li><li class="selected" id="AsiaTab" onclick="wsod.changeRegion(\'Asia\')"><a href="javascript:void(0)">Asia</a></li><li class="" id="CurrenciesTab" onclick="wsod.changeRegion(\'Currencies\')"><a href="javascript:void(0)">Currencies</a></li><li class=" last" id="CommoditiesTab" onclick="wsod.changeRegion(\'Commodities\')"><a href="javascript:void(0)">Commodities</a></li></ul></div>');
	wsod.html.push('<div id="wsod-business" class="update"><div class="inner">');
		wsod.html.push('<div id="US" class="hiddenContent"><div class="chartContainer" holidays=""><div id="n_US" class="wsodname">S.&amp;P. 500</div><div id="l_US" class="wsodlabel">&nbsp;</div><div id="cht_US" class="wsodChart" style="background-image: url(http://markets.on.nytimes.com/cgi-bin/upload.dll/file.png?z0189110azc1c5b3cb1bb944a2aa8a952abe209fcc);"></div></div><table cellpadding="0" cellspacing="0"><tr onmouseover="wsod.changeChart(0,\'US\', this)" onmouseout="wsod.unhighlight(this, \'US\')" class="active" index="0" label="&nbsp;" name="S.&amp;P. 500" region="US"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=575769">S.&amp;P. 500</a></td><td style="white-space: nowrap" class="lastPrice">1,807.23</td><td style="white-space: nowrap"><span class="posChange">+4.48</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.25%</span></td></tr><tr onmouseover="wsod.changeChart(1,\'US\', this)" onmouseout="wsod.unhighlight(this, \'US\')" class="" index="1" label="&nbsp;" name="Dow" region="US"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=599362">Dow</a></td><td style="white-space: nowrap" class="lastPrice">16,097.33</td><td style="white-space: nowrap"><span class="posChange">+24.53</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.15%</span></td></tr><tr onmouseover="wsod.changeChart(2,\'US\', this)" onmouseout="wsod.unhighlight(this, \'US\')" class="" index="2" label="&nbsp;" name="Nasdaq" region="US"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=579435">Nasdaq</a></td><td style="white-space: nowrap" class="lastPrice">4,044.75</td><td style="white-space: nowrap"><span class="posChange">+27.00</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.67%</span></td></tr><tr onmouseover="wsod.changeChart(3,\'US\', this)" onmouseout="wsod.unhighlight(this, \'US\')" class="" index="3" label="Mid-Cap" name="S.&amp;P. 400" region="US"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=598086">S.&amp;P. 400</a></td><td style="white-space: nowrap" class="lastPrice">1,308.71</td><td style="white-space: nowrap"><span class="posChange">+2.31</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.18%</span></td></tr><tr onmouseover="wsod.changeChart(4,\'US\', this)" onmouseout="wsod.unhighlight(this, \'US\')" class="" index="4" label="Small-Cap" name="S.&amp;P. 600" region="US"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=585325">S.&amp;P. 600</a></td><td style="white-space: nowrap" class="lastPrice">656.34</td><td style="white-space: nowrap"><span class="posChange">+3.72</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.57%</span></td></tr></table><div style="display:none" id="tradeTime_US"> <span>At close 11/27/2013</span></div></div><div id="Americas" class="hiddenContent"><div class="chartContainer" holidays=""><div id="n_Americas" class="wsodname">TSX COMPOSITE</div><div id="l_Americas" class="wsodlabel">Canada</div><div id="cht_Americas" class="wsodChart" style="background-image: url(http://markets.on.nytimes.com/cgi-bin/upload.dll/file.png?z0389110az32ff897fc54548119b73b9ff423962f3);"></div></div><table cellpadding="0" cellspacing="0"><tr onmouseover="wsod.changeChart(0,\'Americas\', this)" onmouseout="wsod.unhighlight(this, \'Americas\')" class="active" index="0" label="Canada" name="TSX COMPOSITE" region="Americas"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=593253">TSX Comp.</a></td><td style="white-space: nowrap" class="lastPrice">13,362.06</td><td style="white-space: nowrap"><span class="posChange">+12.29</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.09%</span></td></tr><tr onmouseover="wsod.changeChart(1,\'Americas\', this)" onmouseout="wsod.unhighlight(this, \'Americas\')" class="" index="1" label="Canada" name="TSX VENTURE" region="Americas"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=571311">TSX Vent.</a></td><td style="white-space: nowrap" class="lastPrice">929.53</td><td style="white-space: nowrap"><span class="posChange">+0.93</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.10%</span></td></tr><tr onmouseover="wsod.changeChart(2,\'Americas\', this)" onmouseout="wsod.unhighlight(this, \'Americas\')" class="" index="2" label="Brazil" name="Bovespa" region="Americas"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=570637">Bovespa</a></td><td style="white-space: nowrap" class="lastPrice">51,861.21</td><td style="white-space: nowrap"><span class="posChange">+414.30</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.81%</span></td></tr><tr onmouseover="wsod.changeChart(3,\'Americas\', this)" onmouseout="wsod.unhighlight(this, \'Americas\')" class="" index="3" label="Mexico" name="Bolsa" region="Americas"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=584510">Bolsa</a></td><td style="white-space: nowrap" class="lastPrice">41,872.59</td><td style="white-space: nowrap"><span class="posChange">+869.91</span></td><td style="white-space: nowrap"><span class="posChangePct">+2.12%</span></td></tr><tr onmouseover="wsod.changeChart(4,\'Americas\', this)" onmouseout="wsod.unhighlight(this, \'Americas\')" class="" index="4" label="Chile" name="IPSA 40" region="Americas"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=577784">IPSA 40</a></td><td style="white-space: nowrap" class="lastPrice">3,716.92</td><td style="white-space: nowrap"><span class="posChange">+45.14</span></td><td style="white-space: nowrap"><span class="posChangePct">+1.23%</span></td></tr></table><div style="display:none" id="tradeTime_Americas"> <span>At close 11/27/2013</span></div></div><div id="Europe" class="hiddenContent"><div class="chartContainer" holidays=""><div id="n_Europe" class="wsodname">FTSE 100</div><div id="l_Europe" class="wsodlabel">Britain</div><div id="cht_Europe" class="wsodChart" style="background-image: url(http://markets.on.nytimes.com/cgi-bin/upload.dll/file.png?z0189110aze2d1c30a822d4101ba9e8664dbadb9a6);"></div></div><table cellpadding="0" cellspacing="0"><tr onmouseover="wsod.changeChart(0,\'Europe\', this)" onmouseout="wsod.unhighlight(this, \'Europe\')" class="active" index="0" label="Britain" name="FTSE 100" region="Europe"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=572009">FTSE 100</a></td><td style="white-space: nowrap" class="lastPrice">6,649.47</td><td style="white-space: nowrap"><span class="posChange">+13.25</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.20%</span></td></tr><tr onmouseover="wsod.changeChart(1,\'Europe\', this)" onmouseout="wsod.unhighlight(this, \'Europe\')" class="" index="1" label="Germany" name="DAX" region="Europe"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=569857">DAX</a></td><td style="white-space: nowrap" class="lastPrice">9,351.13</td><td style="white-space: nowrap"><span class="posChange">+61.06</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.66%</span></td></tr><tr onmouseover="wsod.changeChart(2,\'Europe\', this)" onmouseout="wsod.unhighlight(this, \'Europe\')" class="" index="2" label="France" name="CAC 40" region="Europe"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=585994">CAC 40</a></td><td style="white-space: nowrap" class="lastPrice">4,293.06</td><td style="white-space: nowrap"><span class="posChange">+15.49</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.36%</span></td></tr><tr onmouseover="wsod.changeChart(3,\'Europe\', this)" onmouseout="wsod.unhighlight(this, \'Europe\')" class="" index="3" label="Italy" name="FTSE All-Share" region="Europe"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=18817683">FTSE Italia</a></td><td style="white-space: nowrap" class="lastPrice">20,144.37</td><td style="white-space: nowrap"><span class="posChange">+151.26</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.76%</span></td></tr><tr onmouseover="wsod.changeChart(4,\'Europe\', this)" onmouseout="wsod.unhighlight(this, \'Europe\')" class="" index="4" label="&nbsp;" name="Eurofirst 300" region="Europe"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=599139">Eurofirst 300</a></td><td style="white-space: nowrap" class="lastPrice">1,300.51</td><td style="white-space: nowrap"><span class="posChange">+6.48</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.50%</span></td></tr></table><div style="display:none" id="tradeTime_Europe"> <span>At close 11/27/2013</span></div></div><div id="Asia" class="visibleContent"><div class="chartContainer" holidays=""><div id="n_Asia" class="wsodname">Nikkei</div><div id="l_Asia" class="wsodlabel">Japan</div><div id="cht_Asia" class="wsodChart" style="background-image: url(http://markets.on.nytimes.com/cgi-bin/upload.dll/file.png?z0189110az8a0b0daaa0b6436fa9d046f2991fc729);"></div></div><table cellpadding="0" cellspacing="0"><tr onmouseover="wsod.changeChart(0,\'Asia\', this)" onmouseout="wsod.unhighlight(this, \'Asia\')" class="active" index="0" label="Japan" name="Nikkei" region="Asia"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=576473">Nikkei</a></td><td style="white-space: nowrap" class="lastPrice">15,630.04</td><td style="white-space: nowrap"><span class="posChange">+180.41</span></td><td style="white-space: nowrap"><span class="posChangePct">+1.17%</span></td></tr><tr onmouseover="wsod.changeChart(1,\'Asia\', this)" onmouseout="wsod.unhighlight(this, \'Asia\')" class="" index="1" label="Hong Kong" name="Hang Seng" region="Asia"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=568838">Hang Seng</a></td><td style="white-space: nowrap" class="lastPrice">23,984.42</td><td style="white-space: nowrap"><span class="posChange">+178.07</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.75%</span></td></tr><tr onmouseover="wsod.changeChart(2,\'Asia\', this)" onmouseout="wsod.unhighlight(this, \'Asia\')" class="" index="2" label="China" name="Shanghai" region="Asia"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=586621">Shanghai</a></td><td style="white-space: nowrap" class="lastPrice">2,213.40</td><td style="white-space: nowrap"><span class="posChange">+12.33</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.56%</span></td></tr><tr onmouseover="wsod.changeChart(3,\'Asia\', this)" onmouseout="wsod.unhighlight(this, \'Asia\')" class="" index="3" label="Australia" name="All Ordinaries" region="Asia"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=601823">All Ordinaries</a></td><td style="white-space: nowrap" class="lastPrice">5,345.00</td><td style="white-space: nowrap"><span class="posChange">+20.15</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.38%</span></td></tr><tr onmouseover="wsod.changeChart(4,\'Asia\', this)" onmouseout="wsod.unhighlight(this, \'Asia\')" class="" index="4" label="India" name="NSE 50" region="Asia"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/usmarkets/snapshot.asp?symbol=569360">NSE 50</a></td><td style="white-space: nowrap" class="lastPrice">6,057.10</td><td style="white-space: nowrap"><span class="negChange">&#150;2.00</span></td><td style="white-space: nowrap"><span class="negChangePct">&#150;0.03%</span></td></tr></table><div style="display:none" id="tradeTime_Asia"><span class="delayText">Data delayed at least 15 minutes</span> <span>  11/27/2013 9:06 PM ET</span></div></div><div id="Currencies" class="hiddenContent"><div class="chartContainer" holidays=""><div id="n_Currencies" class="wsodname">EUR/USD</div><div id="l_Currencies" class="wsodlabel">&nbsp;</div><div id="cht_Currencies" class="wsodChart" style="background-image: url(http://markets.on.nytimes.com/cgi-bin/upload.dll/file.png?z0389110az085dffe249c743e3a7d5d3062dca2c62);"></div></div><table cellpadding="0" cellspacing="0"><tr onmouseover="wsod.changeChart(0,\'Currencies\', this)" onmouseout="wsod.unhighlight(this, \'Currencies\')" class="active" index="0" label="&nbsp;" name="EUR/USD" region="Currencies"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/currencies/currencies.asp">EUR/USD</a></td><td style="white-space: nowrap" class="lastPrice">1.3571</td><td style="white-space: nowrap"><span class="negChange">&#150;$0.0007</span></td><td style="white-space: nowrap"><span class="negChangePct">&#150;0.052%</span></td></tr><tr onmouseover="wsod.changeChart(1,\'Currencies\', this)" onmouseout="wsod.unhighlight(this, \'Currencies\')" class="" index="1" label="&nbsp;" name="GBP/USD" region="Currencies"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/currencies/currencies.asp">GBP/USD</a></td><td style="white-space: nowrap" class="lastPrice">1.6293</td><td style="white-space: nowrap"><span class="posChange">+$0.0007</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.043%</span></td></tr><tr onmouseover="wsod.changeChart(2,\'Currencies\', this)" onmouseout="wsod.unhighlight(this, \'Currencies\')" class="" index="2" label="&nbsp;" name="USD/JPY" region="Currencies"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/currencies/currencies.asp">USD/JPY</a></td><td style="white-space: nowrap" class="lastPrice">102.0600</td><td style="white-space: nowrap"><span class="negChange">&#150;&yen;0.0900</span></td><td style="white-space: nowrap"><span class="negChangePct">&#150;0.088%</span></td></tr><tr onmouseover="wsod.changeChart(3,\'Currencies\', this)" onmouseout="wsod.unhighlight(this, \'Currencies\')" class="" index="3" label="&nbsp;" name="USD/CHF" region="Currencies"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/currencies/currencies.asp">USD/CHF</a></td><td style="white-space: nowrap" class="lastPrice">0.9079</td><td style="white-space: nowrap"><span class="posChange">+SFr.0.0004</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.044%</span></td></tr></table><a class="currency" href="http://markets.on.nytimes.com/research/markets/currencies/currencies.asp">More Currency Rates &#187;</a><div style="display:none" id="tradeTime_Currencies"> <span>  11/27/2013 9:19 PM ET</span></div></div><div id="Commodities" class="hiddenContent"><div class="chartContainer" holidays=""><div id="n_Commodities" class="wsodname">Crude Oil</div><div id="l_Commodities" class="wsodlabel">JAN \'14</div><div id="cht_Commodities" class="wsodChart" style="background-image: url(http://markets.on.nytimes.com/cgi-bin/upload.dll/file.png?z0289110aza86b8eaa949e4e86a577d5e587738ae6);"></div></div><table cellpadding="0" cellspacing="0"><tr onmouseover="wsod.changeChart(0,\'Commodities\', this)" onmouseout="wsod.unhighlight(this, \'Commodities\')" class="active" index="0" label="JAN \'14" name="Crude Oil" region="Commodities"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/commodities/commodities.asp">Crude Oil</a></td><td style="white-space: nowrap" class="lastPrice" title="$/barrel">92.17</td><td style="white-space: nowrap"><span class="negChange">&#150;$0.13</span></td><td style="white-space: nowrap"><span class="negChangePct">&#150;0.14%</span></td></tr><tr onmouseover="wsod.changeChart(1,\'Commodities\', this)" onmouseout="wsod.unhighlight(this, \'Commodities\')" class="" index="1" label="JAN \'14" name="Natural Gas" region="Commodities"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/commodities/commodities.asp">Natural Gas</a></td><td style="white-space: nowrap" class="lastPrice" title="$/mm btu">3.91</td><td style="white-space: nowrap"><span class="posChange">+$0.01</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.33%</span></td></tr><tr onmouseover="wsod.changeChart(2,\'Commodities\', this)" onmouseout="wsod.unhighlight(this, \'Commodities\')" class="" index="2" label="DEC \'13" name="Gold" region="Commodities"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/commodities/commodities.asp">Gold</a></td><td style="white-space: nowrap" class="lastPrice" title="$/troy oz.">1,239.00</td><td style="white-space: nowrap"><span class="posChange">+$1.20</span></td><td style="white-space: nowrap"><span class="posChangePct">+0.10%</span></td></tr><tr onmouseover="wsod.changeChart(3,\'Commodities\', this)" onmouseout="wsod.unhighlight(this, \'Commodities\')" class="" index="3" label="DEC \'13" name="Corn" region="Commodities"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/commodities/commodities.asp">Corn</a></td><td style="white-space: nowrap" class="lastPrice" title="¢/bushel">417.25</td><td style="white-space: nowrap"><span class="closedChange">&cent;0.00</span></td><td style="white-space: nowrap"><span class="closedChangePct">0.00%</span></td></tr><tr onmouseover="wsod.changeChart(4,\'Commodities\', this)" onmouseout="wsod.unhighlight(this, \'Commodities\')" class="" index="4" label="JAN \'14" name="Soybeans" region="Commodities"><td style="white-space: nowrap" class="first"><a href="http://markets.on.nytimes.com/research/markets/commodities/commodities.asp">Soybeans</a></td><td style="white-space: nowrap" class="lastPrice" title="¢/bushel">1,320.00</td><td style="white-space: nowrap"><span class="closedChange">&cent;0.00</span></td><td style="white-space: nowrap"><span class="closedChangePct">0.00%</span></td></tr></table><div style="display:none" id="tradeTime_Commodities"><span class="delayText">Data delayed at least 15 minutes</span> <span>  11/27/2013 9:15 PM ET</span></div></div>');
	wsod.html.push('</div><div class="clearElm"></div>');
wsod.html.push('</div>');
wsod.destModule = document.getElementById("wsodMarketsChart");
if(wsod.destModule) {
	wsod.destModule.innerHTML = wsod.html.join("");
	if(document.getElementById('tradeTime')){
		document.getElementById('tradeTime').innerHTML = '<span class="delayText">Data delayed at least 15 minutes</span> <span>  11/27/2013 9:06 PM ET</span>';
	}
}